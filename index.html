
<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#ff9800">
<meta name="description" content="NOCTRL Server Wiki - Rules, Plugins, Commands, FAQ, Map, Team, News">
<title>NOCTRL Wiki</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'><rect fill='%23ff9800' width='192' height='192'/><text x='50%' y='50%' font-size='100' font-weight='bold' fill='white' text-anchor='middle' dy='.3em'>N</text></svg>">
<script defer src="lang.js"></script>
</head>
<body>
<div class="snowflakes" id="snowContainer"></div>

<div class="container">
  <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" id="mobileMenuBtn">‚ò∞</button>
  
  <aside class="sidebar">
    <div class="logo">
      <h2>NOCTRL</h2>
      <div class="logo-controls">
        <div class="theme-toggle">
          <label class="switch">
            <input type="checkbox" id="themeToggle" onchange="toggleTheme()" checked>
            <span class="slider"></span>
          </label>
          <span data-ru="–¢–µ–º–Ω–∞—è" data-en="Dark"></span>
        </div>
        <div class="snow-toggle">
          <label class="switch">
            <input type="checkbox" id="snowToggle" onchange="toggleSnow()" checked>
            <span class="slider"></span>
          </label>
          <span data-ru="–°–Ω–µ–≥" data-en="Snow"></span>
        </div>
      </div>
    </div>
    <nav class="nav-menu">
      <button class="nav-btn active" onclick="loadPage('home'); closeMobileMenu();" data-ru="–ì–ª–∞–≤–Ω–∞—è" data-en="Home">üè† –ì–ª–∞–≤–Ω–∞—è</button>
      <button class="nav-btn" onclick="loadPage('rules'); closeMobileMenu();" data-ru="–ü—Ä–∞–≤–∏–ª–∞" data-en="Rules">üìã –ü—Ä–∞–≤–∏–ª–∞</button>
      <button class="nav-btn" onclick="loadPage('plugins'); closeMobileMenu();" data-ru="–ü–ª–∞–≥–∏–Ω—ã" data-en="Plugins">üîå –ü–ª–∞–≥–∏–Ω—ã</button>
      <button class="nav-btn" onclick="loadPage('commands'); closeMobileMenu();" data-ru="–ö–æ–º–∞–Ω–¥—ã" data-en="Commands">‚ö° –ö–æ–º–∞–Ω–¥—ã</button>
      <button class="nav-btn" onclick="loadPage('faq'); closeMobileMenu();" data-ru="FAQ" data-en="FAQ">‚ùì FAQ</button>
      <button class="nav-btn" onclick="loadPage('map'); closeMobileMenu();" data-ru="–ö–∞—Ä—Ç–∞" data-en="Map">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
      <button class="nav-btn" onclick="loadPage('team'); closeMobileMenu();" data-ru="–ö–æ–º–∞–Ω–¥–∞" data-en="Team">üë• –ö–æ–º–∞–Ω–¥–∞</button>
      <button class="nav-btn" onclick="loadPage('news'); closeMobileMenu();" data-ru="–ù–æ–≤–æ—Å—Ç–∏" data-en="News">üì∞ –ù–æ–≤–æ—Å—Ç–∏</button>
    </nav>
    <div class="sidebar-footer">
      <a href="https://discord.gg/R77RfU5ccH" target="_blank" class="discord-btn" data-ru="Discord" data-en="Discord">Discord</a>
      
      <div class="music-player">
        <div class="music-toggle">
          <button id="musicToggle" onclick="toggleMusicPanel()" class="music-btn" title="üéµ">
            üéµ
          </button>
        </div>
        <div id="musicPanel" class="music-panel" style="display: none;">
          <div class="music-header">
            <span data-ru="–ú—É–∑—ã–∫–∞" data-en="Music">–ú—É–∑—ã–∫–∞</span>
          </div>
          <audio id="audioPlayer" style="width: 100%;">
            <source src="https://github.com/Kapustiak-maker/WIKI-RELATED/releases/download/music/music.1.mp3" type="audio/mpeg">
          </audio>
          <div class="music-controls">
            <button onclick="toggleAudio()" id="playBtn" class="control-btn">‚ñ∂Ô∏è</button>
            <button onclick="previousTrack()" class="control-btn">‚èÆÔ∏è</button>
            <button onclick="nextTrack()" class="control-btn">‚è≠Ô∏è</button>
          </div>
          <input type="range" id="volumeSlider" class="volume-slider" min="0" max="100" value="30" onchange="setVolume(this.value)">
          <div class="time-display">
            <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
          </div>
          <div class="track-selector">
            <button onclick="switchTrack(0)" class="track-btn active" title="Track 1">1</button>
            <button onclick="switchTrack(1)" class="track-btn" title="Track 2">2</button>
            <button onclick="switchTrack(2)" class="track-btn" title="Track 3">3</button>
          </div>
        </div>
      </div>
    </div>
  </aside>

  <main class="main-content">
    <header class="top-header">
      <div class="header-left">
        <button class="back-btn" onclick="goBack()" style="display:none;" id="backBtn" data-ru="‚Üê –ù–∞–∑–∞–¥" data-en="‚Üê Back">‚Üê –ù–∞–∑–∞–¥</button>
        <div>
          <h1 id="pageTitle">NOCTRL ‚Äî –í–∞–Ω–∏–ª—å–Ω–æ–µ –í—ã–∂–∏–≤–∞–Ω–∏–µ</h1>
          <div id="pageSubtitle" class="page-subtitle"></div>
        </div>
      </div>
      <div class="header-right">
        <button onclick="setLang('ru')" class="lang-btn">RU</button>
        <button onclick="setLang('en')" class="lang-btn">EN</button>
        <button onclick="openSettings()" class="settings-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
      </div>
    </header>

    <div class="content" id="content">
    </div>

    <footer class="main-footer">
      <p data-ru="NOCTRL ¬© 2025 | –í–∞–Ω–∏–ª—å–Ω—ã–π Survival —Å–µ—Ä–≤–µ—Ä" data-en="NOCTRL ¬© 2025 | Vanilla Survival Server">NOCTRL ¬© 2025 | –í–∞–Ω–∏–ª—å–Ω—ã–π Survival —Å–µ—Ä–≤–µ—Ä</p>
    </footer>
  </main>
</div>

<div id="settingsModal" class="settings-modal">
  <div class="settings-content">
    <div class="settings-header">
      <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <button onclick="closeSettings()" class="close-btn">‚úï</button>
    </div>
    <div class="settings-body">
      <div class="settings-item">
        <label data-ru="–¢–µ–º–Ω–∞—è —Ç–µ–º–∞" data-en="Dark Theme">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</label>
        <input type="checkbox" id="settingsTheme" onchange="toggleTheme()" checked>
      </div>
      <div class="settings-item">
        <label data-ru="–°–Ω–µ–≥" data-en="Snow">–°–Ω–µ–≥</label>
        <input type="checkbox" id="settingsSnow" onchange="toggleSnowSettings()" checked>
      </div>
      <div class="settings-item">
        <label data-ru="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è" data-en="Notifications">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</label>
        <input type="checkbox" id="settingsNotify" checked>
      </div>
      
      <div style="border-top: 2px solid #ff9800; padding-top: 15px; margin-top: 15px;">
        <h3 style="margin-top: 0; color: #ff9800; font-size: 14px;" data-ru="–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" data-en="App">–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h3>
        
        <div class="settings-item">
          <label data-ru="–û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º" data-en="Offline Mode">üì° –û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º</label>
          <span style="font-size: 12px; color: #999;">–†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞</span>
        </div>
        
        <button class="settings-btn-install" onclick="installPWA()" id="installBtn">
          <span data-ru="üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ" data-en="üì• Install App">üì• –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</span>
        </button>
        
        <div id="pwaStatus" style="display: none; padding: 10px; background: #4caf50; border-radius: 6px; color: white; font-size: 12px; margin-top: 10px;">
          ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
        </div>
      </div>
    </div>
  </div>
</div>

<script src="pages.js"></script>
<script src="snow.js"></script>
<script>
  console.log('‚úÖ –°–∞–π—Ç –∑–∞–≥—Ä—É–∂–µ–Ω!');
  console.log('üìÅ URL:', window.location.href);
  console.log('üì± User Agent:', navigator.userAgent);
  
  if ('serviceWorker' in navigator) {
    console.log('üîß –ü—ã—Ç–∞—é—Å—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å Service Worker...');
    navigator.serviceWorker.register('./service-worker.js', { scope: './' })
      .then(registration => {
        console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:', registration);
        console.log('üì° Scope:', registration.scope);
      })
      .catch(error => {
        console.error('‚ùå Service Worker –æ—à–∏–±–∫–∞:', error);
        console.log('‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Å–∞–π—Ç –Ω–∞ HTTPS –∏–ª–∏ localhost');
      });
  } else {
    console.log('‚ö†Ô∏è Service Worker –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è');
  }
  
  window.addEventListener('beforeinstallprompt', (e) => {
    console.log('üéâ beforeinstallprompt EVENT FIRED!');
    console.log('–ë—Ä–∞—É–∑–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç PWA —É—Å—Ç–∞–Ω–æ–≤–∫—É');
  });
  
  if (window.matchMedia('(display-mode: standalone)').matches) {
    console.log('‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (standalone mode)');
  }
</script>
</body>
</html>
